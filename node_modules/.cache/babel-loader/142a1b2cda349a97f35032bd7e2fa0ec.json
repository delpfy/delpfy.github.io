{"ast":null,"code":"import _objectSpread from\"C:/Users/cubar/source/react/react-pizza/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from\"@reduxjs/toolkit\";import{CalcTotalPrice}from\"../../components/utils/CalcTotalPrice\";import{getCartFromLS}from\"../../components/utils/getCartFromLS\";var initialState=getCartFromLS();var cartSlice=createSlice({name:\"cart\",initialState:initialState,reducers:{addItem:function addItem(state,action){var findItem=state.items.find(function(obj){return obj.id===action.payload.id;});if(findItem){findItem.count++;}else{state.items.push(_objectSpread(_objectSpread({},action.payload),{},{count:1}));}state.totalPrice=CalcTotalPrice(state.items);},decItem:function decItem(state,action){var findItem=state.items.find(function(obj){return obj.id===action.payload;});if(findItem){findItem.count--;}},removeItem:function removeItem(state,action){state.items=state.items.filter(function(obj){return obj.id!==action.payload;});},clearItems:function clearItems(state){state.items=[];state.totalPrice=0;}}});var _cartSlice$actions=cartSlice.actions,addItem=_cartSlice$actions.addItem,removeItem=_cartSlice$actions.removeItem,clearItems=_cartSlice$actions.clearItems,decItem=_cartSlice$actions.decItem;export{addItem,removeItem,clearItems,decItem};export default cartSlice.reducer;","map":{"version":3,"names":["createSlice","CalcTotalPrice","getCartFromLS","initialState","cartSlice","name","reducers","addItem","state","action","findItem","items","find","obj","id","payload","count","push","totalPrice","decItem","removeItem","filter","clearItems","actions","reducer"],"sources":["C:/Users/cubar/source/react/react-pizza/src/redux/cart/slice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { CalcTotalPrice } from \"../../components/utils/CalcTotalPrice\";\r\nimport { getCartFromLS } from \"../../components/utils/getCartFromLS\";\r\nimport { CartItem, CartSliceState } from \"./types\";\r\n\r\nconst initialState: CartSliceState = getCartFromLS();\r\n\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState,\r\n  reducers: {\r\n    addItem(state, action: PayloadAction<CartItem>) {\r\n      const findItem = state.items.find((obj) => obj.id === action.payload.id);\r\n      if (findItem) {\r\n        findItem.count++;\r\n      } else {\r\n        state.items.push({\r\n          ...action.payload,\r\n          count: 1,\r\n        });\r\n      }\r\n      state.totalPrice = CalcTotalPrice(state.items);\r\n    },\r\n    decItem(state, action: PayloadAction<string>) {\r\n      const findItem = state.items.find((obj) => obj.id === action.payload);\r\n      if (findItem) {\r\n        findItem.count--;\r\n      }\r\n    },\r\n    removeItem(state, action: PayloadAction<string>) {\r\n      state.items = state.items.filter((obj) => obj.id !== action.payload);\r\n    },\r\n    clearItems(state) {\r\n      state.items = [];\r\n      state.totalPrice = 0;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { addItem, removeItem, clearItems, decItem } = cartSlice.actions;\r\nexport default cartSlice.reducer;\r\n"],"mappings":"4HAAA,OAASA,WAAT,KAA2C,kBAA3C,CACA,OAASC,cAAT,KAA+B,uCAA/B,CACA,OAASC,aAAT,KAA8B,sCAA9B,CAGA,GAAMC,aAA4B,CAAGD,aAAa,EAAlD,CAEA,GAAME,UAAS,CAAGJ,WAAW,CAAC,CAC5BK,IAAI,CAAE,MADsB,CAE5BF,YAAY,CAAZA,YAF4B,CAG5BG,QAAQ,CAAE,CACRC,OADQ,kBACAC,KADA,CACOC,MADP,CACwC,CAC9C,GAAMC,SAAQ,CAAGF,KAAK,CAACG,KAAN,CAAYC,IAAZ,CAAiB,SAACC,GAAD,QAASA,IAAG,CAACC,EAAJ,GAAWL,MAAM,CAACM,OAAP,CAAeD,EAAnC,EAAjB,CAAjB,CACA,GAAIJ,QAAJ,CAAc,CACZA,QAAQ,CAACM,KAAT,GACD,CAFD,IAEO,CACLR,KAAK,CAACG,KAAN,CAAYM,IAAZ,gCACKR,MAAM,CAACM,OADZ,MAEEC,KAAK,CAAE,CAFT,IAID,CACDR,KAAK,CAACU,UAAN,CAAmBjB,cAAc,CAACO,KAAK,CAACG,KAAP,CAAjC,CACD,CAZO,CAaRQ,OAbQ,kBAaAX,KAbA,CAaOC,MAbP,CAasC,CAC5C,GAAMC,SAAQ,CAAGF,KAAK,CAACG,KAAN,CAAYC,IAAZ,CAAiB,SAACC,GAAD,QAASA,IAAG,CAACC,EAAJ,GAAWL,MAAM,CAACM,OAA3B,EAAjB,CAAjB,CACA,GAAIL,QAAJ,CAAc,CACZA,QAAQ,CAACM,KAAT,GACD,CACF,CAlBO,CAmBRI,UAnBQ,qBAmBGZ,KAnBH,CAmBUC,MAnBV,CAmByC,CAC/CD,KAAK,CAACG,KAAN,CAAcH,KAAK,CAACG,KAAN,CAAYU,MAAZ,CAAmB,SAACR,GAAD,QAASA,IAAG,CAACC,EAAJ,GAAWL,MAAM,CAACM,OAA3B,EAAnB,CAAd,CACD,CArBO,CAsBRO,UAtBQ,qBAsBGd,KAtBH,CAsBU,CAChBA,KAAK,CAACG,KAAN,CAAc,EAAd,CACAH,KAAK,CAACU,UAAN,CAAmB,CAAnB,CACD,CAzBO,CAHkB,CAAD,CAA7B,CAgCO,uBAAqDd,SAAS,CAACmB,OAA/D,CAAQhB,OAAR,oBAAQA,OAAR,CAAiBa,UAAjB,oBAAiBA,UAAjB,CAA6BE,UAA7B,oBAA6BA,UAA7B,CAAyCH,OAAzC,oBAAyCA,OAAzC,C,8CACP,cAAef,UAAS,CAACoB,OAAzB"},"metadata":{},"sourceType":"module"}