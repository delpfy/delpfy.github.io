{"ast":null,"code":"import _slicedToArray from\"C:/Users/cubar/source/react/react-pizza/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{addItem}from\"../../redux/cart/slice\";import{Link}from\"react-router-dom\";import{selectCartItemById}from\"../../redux/cart/selectors\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var typeNames=[\"Тонке\",\"Традиційне\"];var PizzaBlock=function PizzaBlock(_ref){var imageUrl=_ref.imageUrl,name=_ref.name,types=_ref.types,sizes=_ref.sizes,price=_ref.price,id=_ref.id;var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),ActiveType=_React$useState2[0],SetActiveType=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),ActiveSize=_React$useState4[0],SetActiveSize=_React$useState4[1];var cartItem=useSelector(selectCartItemById(id));var addedCount=cartItem?cartItem.count:0;var dispatch=useDispatch();var onClickAdd=function onClickAdd(){var item={id:id,name:name,price:price,imageUrl:imageUrl,type:typeNames[ActiveType],size:sizes[ActiveSize],count:0};dispatch(addItem(item));};return/*#__PURE__*/_jsx(\"div\",{className:\"pizza-block-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/pizza/\".concat(id),children:[/*#__PURE__*/_jsx(\"img\",{className:\"pizza-block__image\",src:imageUrl,alt:\"Pizza\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"pizza-block__title\",children:name})]},id),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__selector\",children:[/*#__PURE__*/_jsx(\"ul\",{children:types.map(function(type){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return SetActiveType(type);},className:ActiveType===type?\"active\":\"\",children:typeNames[type]},\"\".concat(id,\"_\").concat(type));})}),/*#__PURE__*/_jsx(\"ul\",{children:sizes.map(function(size,index){return/*#__PURE__*/_jsxs(\"li\",{onClick:function onClick(){return SetActiveSize(index);},className:ActiveSize===index?\"active\":\"\",children:[size,\" \\u0441\\u043C.\"]},\"\".concat(size,\"_\").concat(index));})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__price\",children:[\"\\u0432\\u0456\\u0434 \",price,\" \\u20B4\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onClickAdd,className:\"button button--outline button--add\",children:[/*#__PURE__*/_jsx(\"svg\",{width:\"12\",height:\"12\",viewBox:\"0 0 12 12\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\",fill:\"white\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0414\\u043E\\u0434\\u0430\\u0442\\u0438\"}),addedCount>0&&/*#__PURE__*/_jsx(\"i\",{children:addedCount})]})]})]})});};export default PizzaBlock;","map":{"version":3,"names":["React","useSelector","useDispatch","addItem","Link","selectCartItemById","typeNames","PizzaBlock","imageUrl","name","types","sizes","price","id","useState","ActiveType","SetActiveType","ActiveSize","SetActiveSize","cartItem","addedCount","count","dispatch","onClickAdd","item","type","size","map","index"],"sources":["C:/Users/cubar/source/react/react-pizza/src/components/PizzaBlocks/PizzaBlock.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { addItem } from \"../../redux/cart/slice\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { selectCartItemById } from \"../../redux/cart/selectors\";\r\nimport { CartItem } from \"../../redux/cart/types\";\r\nconst typeNames = [\"Тонке\", \"Традиційне\"];\r\n\r\ntype PizzaBlockProps = {\r\n  imageUrl: string;\r\n  name: string;\r\n  types: number[];\r\n  sizes: number[];\r\n  price: number;\r\n  id: string;\r\n};\r\n\r\nconst PizzaBlock: React.FC<PizzaBlockProps> = ({\r\n  imageUrl,\r\n  name,\r\n  types,\r\n  sizes,\r\n  price,\r\n  id,\r\n}) => {\r\n  const [ActiveType, SetActiveType] = React.useState(0);\r\n  const [ActiveSize, SetActiveSize] = React.useState(0);\r\n\r\n  const cartItem = useSelector(selectCartItemById(id));\r\n\r\n  const addedCount = cartItem ? cartItem.count : 0;\r\n\r\n  const dispatch = useDispatch();\r\n  const onClickAdd = () => {\r\n    const item: CartItem = {\r\n      id,\r\n      name,\r\n      price,\r\n      imageUrl,\r\n      type: typeNames[ActiveType],\r\n      size: sizes[ActiveSize],\r\n      count: 0,\r\n    };\r\n    dispatch(addItem(item));\r\n  };\r\n\r\n  return (\r\n    <div className=\"pizza-block-wrapper\">\r\n      <div className=\"pizza-block\">\r\n      <Link key={id} to={`/pizza/${id}`}>\r\n        <img className=\"pizza-block__image\" src={imageUrl} alt=\"Pizza\" />\r\n        <h4 className=\"pizza-block__title\">{name}</h4>\r\n        </Link>\r\n        <div className=\"pizza-block__selector\">\r\n          <ul>\r\n            {types.map((type) => (\r\n              <li\r\n                onClick={() => SetActiveType(type)}\r\n                key={`${id}_${type}`}\r\n                className={ActiveType === type ? \"active\" : \"\"}\r\n              >\r\n                {typeNames[type]}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <ul>\r\n            {sizes.map((size, index) => (\r\n              <li\r\n                onClick={() => SetActiveSize(index)}\r\n                key={`${size}_${index}`}\r\n                className={ActiveSize === index ? \"active\" : \"\"}\r\n              >\r\n                {size} см.\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n        <div className=\"pizza-block__bottom\">\r\n          <div className=\"pizza-block__price\">від {price} ₴</div>\r\n          <button\r\n            onClick={onClickAdd}\r\n            className=\"button button--outline button--add\"\r\n          >\r\n            <svg\r\n              width=\"12\"\r\n              height=\"12\"\r\n              viewBox=\"0 0 12 12\"\r\n              fill=\"none\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path\r\n                d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\r\n                fill=\"white\"\r\n              />\r\n            </svg>\r\n            <span>Додати</span>\r\n            {addedCount > 0 && <i>{addedCount}</i>}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default PizzaBlock;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}